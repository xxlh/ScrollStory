<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Basic Example - StoryScroll</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
	<script src="../lib/storyscroll.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
	<script src="../lib/story-action.min.js"></script>
</head>
<body>
	<script>
	
		var story = new StoryScroll ({
			direction: 'y',
			width: 750,
			// length: 20000,
			loader:true,
			debug: true,
			bgcolor: 0x000000
		});
	
	// story.restLenght(30000)
	let videoCont = story.chapter({x:0, y:-400, width:200,height:400,alpha:1});
	let video = videoCont.spriteVideo("http://f.sinaimg.cn/fj/rejectsmoke/img/f24742a6302abc0344da7a6a1a66cbba.mp4", {x:150, y:500, width:450,height:800});
	
	video.interactive = true;
	video.buttonMode = true;
	video.on('pointertap', onPlayVideo);
	let videoButton = videoCont.graphic({x: video.x + (video.width-100)/2, y:video.y + (video.height - 100)/2,  alpha:1,});
	videoButton.beginFill(0x0, 0.5)
    .drawRoundedRect(0, 0, 100, 100, 50)
    .endFill()
    .beginFill(0xffffff)
    .moveTo(36, 30)
    .lineTo(36, 70)
    .lineTo(70, 50);
	videoButton.interactive = true;
	videoButton.buttonMode = true;
	videoButton.on('pointertap', onPlayVideo);

	story.loader.load();

	video.isPlay = false;
	function onPlayVideo() {
		if(video.isPlay){
			video.pause();
			videoButton.alpha = 1
		}else{
			console.log(video.texture);
			video.play();
			// videoButton.alpha = 0
		}
		video.isPlay = !video.isPlay
	}
	</script>
</body>
</html>